<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes" />

    <title>Multiselect-combo-box Demo</title>

    <script type="module">
      import '@polymer/iron-demo-helpers/demo-pages-shared-styles.js';
      import '@polymer/iron-demo-helpers/demo-snippet.js';
      import '@vaadin/polymer-legacy-adapter/template-renderer.js';
    </script>

    <script type="module" src="../../theme/material/multiselect-combo-box.js"></script>

    <style>
      body[unresolved] {
        opacity: 0;
      }
    </style>

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
        multiselect-combo-box {
          width: 100%;
        }
      </style>
    </custom-style>
  </head>

  <body unresolved>
    <div class="vertical-section-container centered">
      <h3>Basic</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="basic" label="Element" placeholder="Select one or more"></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#basic');
              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Titanium',
                'Vanadium',
                'Chromium',
                'Manganese',
                'Iron',
                'Cobalt',
                'Nickel',
                'Copper',
                'Zinc'
              ];

              comboBox.selectedItems = ['Helium', 'Lithium'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Floating label</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="floatLabel" label="Element" theme="always-float-label"> </multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#floatLabel');
              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Titanium',
                'Vanadium',
                'Chromium',
                'Manganese',
                'Iron',
                'Cobalt',
                'Nickel',
                'Copper',
                'Zinc'
              ];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Object items</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box
            id="objects"
            label="Element"
            item-id-path="id"
            item-value-path="id"
            item-label-path="name"
          ></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#objects');

              comboBox.items = [
                { id: 1, name: 'Hydrogen' },
                { id: 2, name: 'Helium' },
                { id: 3, name: 'Lithium' },
                { id: 4, name: 'Beryllium' },
                { id: 5, name: 'Boron' },
                { id: 6, name: 'Carbon' },
                { id: 7, name: 'Nitrogen' },
                { id: 8, name: 'Oxygen' },
                { id: 9, name: 'Fluorine' }
              ];

              comboBox.selectedItems = [
                { id: 3, name: 'Lithium' },
                { id: 5, name: 'Boron' }
              ];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Compact mode</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="compact" label="Element" compact-mode></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#compact');

              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Titanium',
                'Vanadium',
                'Chromium',
                'Manganese',
                'Iron',
                'Cobalt',
                'Nickel',
                'Copper',
                'Zinc'
              ];

              comboBox.selectedItems = ['Helium', 'Lithium', 'Beryllium'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Compact label generator</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="labelGenerator" label="Multiselect field" compact-mode></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#labelGenerator');

              comboBox.compactModeLabelGenerator = function (items) {
                const suffix = items.length === 0 || items.length > 1 ? 'chemical elements' : 'chemical element';
                return `${items.length} ${suffix}`;
              };

              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus'
              ];

              comboBox.selectedItems = ['Helium', 'Lithium', 'Beryllium'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Required</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box
            id="required"
            label="Element"
            required
            error-message="Please select at least one value."
            item-value-path="id"
            item-label-path="name"
          ></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#required');

              comboBox.items = [
                { id: 1, name: 'Hydrogen' },
                { id: 2, name: 'Helium' },
                { id: 3, name: 'Lithium' },
                { id: 4, name: 'Beryllium' },
                { id: 5, name: 'Boron' },
                { id: 6, name: 'Carbon' },
                { id: 7, name: 'Nitrogen' },
                { id: 8, name: 'Oxygen' },
                { id: 9, name: 'Fluorine' }
              ];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Readonly multiselect-combo-box</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="readonly" label="Element" readonly></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#readonly');

              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Titanium',
                'Vanadium',
                'Chromium',
                'Manganese',
                'Iron',
                'Cobalt',
                'Nickel',
                'Copper',
                'Zinc'
              ];

              comboBox.selectedItems = ['Argon', 'Scandium', 'Nickel', 'Copper', 'Zinc', 'Sodium'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Disabled multiselect-combo-box</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="disabled" label="Element" disabled></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#disabled');

              comboBox.items = [
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Iron',
                'Cobalt',
                'Nickel'
              ];

              comboBox.selectedItems = ['Argon', 'Scandium', 'Nickel'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Ordered</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="ordered" label="Element" ordered></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#ordered');

              comboBox.items = [
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Iron',
                'Cobalt',
                'Nickel'
              ];

              comboBox.selectedItems = ['Scandium', 'Argon', 'Nickel'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Multiselect-combo-box with `clear-button-visible`</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="clearButton" label="Element" clear-button-visible></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#clearButton');

              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Titanium',
                'Vanadium',
                'Chromium',
                'Manganese',
                'Iron',
                'Cobalt',
                'Nickel',
                'Copper',
                'Zinc'
              ];

              comboBox.selectedItems = ['Helium', 'Lithium'];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Custom item template</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="itemTemplate" label="Element" item-label-path="name" item-value-path="symbol">
            <template>
              <b>[[item.name]], <sub>[[item.number]]</sub>[[item.symbol]]</b><br />
              array index: [[index]]
            </template>
          </multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#itemTemplate');

              comboBox.items = [
                { name: 'Hydrogen', symbol: 'H', number: 1 },
                { name: 'Helium', symbol: 'He', number: 2 },
                { name: 'Lithium', symbol: 'Li', number: 3 },
                { name: 'Beryllium', symbol: 'Be', number: 4 },
                { name: 'Boron', symbol: 'B', number: 5 },
                { name: 'Carbon', symbol: 'C', number: 6 },
                { name: 'Nitrogen', symbol: 'N', number: 7 },
                { name: 'Oxygen', symbol: 'O', number: 8 }
              ];
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Custom renderer</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box
            id="renderer"
            label="Element"
            item-label-path="name"
            item-value-path="symbol"
          ></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#renderer');

              comboBox.items = [
                { name: 'Hydrogen', symbol: 'H', number: 1 },
                { name: 'Helium', symbol: 'He', number: 2 },
                { name: 'Lithium', symbol: 'Li', number: 3 },
                { name: 'Beryllium', symbol: 'Be', number: 4 },
                { name: 'Boron', symbol: 'B', number: 5 },
                { name: 'Carbon', symbol: 'C', number: 6 },
                { name: 'Nitrogen', symbol: 'N', number: 7 },
                { name: 'Oxygen', symbol: 'O', number: 8 }
              ];

              comboBox.renderer = function (root, owner, model) {
                if (!root.firstElementChild) {
                  root.innerHTML =
                    '<b><span class="name"></span>, <sub class="number"></sub><span class="symbol"></span></b>' +
                    '<br> array index: <span class="index"></span>';
                }
                root.querySelector('.name').textContent = model.item.name;
                root.querySelector('.number').textContent = model.item.number;
                root.querySelector('.symbol').textContent = model.item.symbol;
                root.querySelector('.index').textContent = model.index;
              };
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Allow custom values</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box
            id="customValues"
            label="Element"
            placeholder="Select existing or type custom value"
            allow-custom-values
          ></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#customValues');
              comboBox.items = ['Hydrogen', 'Helium', 'Lithium', 'Beryllium'];
              comboBox.selectedItems = ['Helium', 'Lithium'];

              // handle the `custom-values-set` event
              comboBox.addEventListener('custom-values-set', function (event) {
                comboBox.items.push(event.detail);
                const selectedItemsUpdate = comboBox.selectedItems.slice(0);
                selectedItemsUpdate.push(event.detail);
                comboBox.selectedItems = selectedItemsUpdate;
              });
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <div class="vertical-section-container centered">
      <h3>Custom filtering</h3>
      <demo-snippet>
        <template>
          <multiselect-combo-box id="customFilter" label="Element"></multiselect-combo-box>

          <script>
            customElements.whenDefined('multiselect-combo-box').then(() => {
              const comboBox = document.querySelector('#customFilter');
              comboBox.items = [
                'Hydrogen',
                'Helium',
                'Lithium',
                'Beryllium',
                'Boron',
                'Carbon',
                'Nitrogen',
                'Oxygen',
                'Fluorine',
                'Neon',
                'Sodium',
                'Magnesium',
                'Aluminum',
                'Silicon',
                'Phosphorus',
                'Sulfur',
                'Chlorine',
                'Argon',
                'Potassium',
                'Calcium',
                'Scandium',
                'Titanium',
                'Vanadium',
                'Chromium',
                'Manganese',
                'Iron',
                'Cobalt',
                'Nickel',
                'Copper',
                'Zinc'
              ];

              comboBox.addEventListener('filter-value-changed', function (e) {
                comboBox.filteredItems = comboBox.items.filter((item) => {
                  // This example uses case-sensitive starts-with filtering
                  // The default is case-insensitive content filtering
                  return item.indexOf(e.detail.value) === 0;
                });
              });
            });
          </script>
        </template>
      </demo-snippet>
    </div>

    <script>
      customElements.whenDefined('multiselect-combo-box').then(() => {
        // Wait for first rendering
        requestAnimationFrame(() => {
          document.body.removeAttribute('unresolved');
        });
      });
    </script>
  </body>
</html>
